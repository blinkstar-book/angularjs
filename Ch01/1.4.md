## 1.4 步骤2：创建监视列表

本节将实现股票监视列表，这是 StockDog 应用的第一个主要组件。如之前提到的，监视列表就是目标股票的任意组合，它们将被追踪并用于分析目的。
应用的用户将通过填写一个小表单在 StockDog 中创建一个新的监视列表，该表单被展示在模态框中，它会提示用户输入姓名和简单的描述信息，用于
识别监视列表。使用应用注册的所有监视列表将采用 HTML5 LocalStorage 把自己的数据保存在浏览器客户端。最后，监视列表的名字将显示在用户
界面的一个小面板中。在对组件目标功能有了高级别的了解之后，现在将学习如何使用 AngularJS 实现监视列表。

### 1.4.1 应用模块

所有 AngularJS 应用的主入口是顶级 app 模块。那么到底什么是模块呢？如官方文档中提到的，可将模块看成应用的不同部分的容器。尽管大多数应用
都有一个主方法，用于实例化和连接不同的组件，但是 AngularJS 模块显示地指定了如何启动组件。这种方式的一些优点是：模块可按任意顺序以异步方式
加载，代码可读性和可重用性也得到增强。在 app/scripts/app.js 文件中，调用 .module() 函数定义主应用模块，该函数将接受一个名字和一个依赖
数组。注意模块的名称，此时使用的应该是 stockDogApp ，因为稍后将引用它。对于过去已经用过 RequireJS 的读者来说，这种声明模块依赖的方法
应该看起来很熟悉。

#### 1.安装模块依赖

目前，应用依赖的模块只应该包含 ngAnimate、ngCookies、ngResource、ngRoute、ngSanitize 和 ngTouch ，所有这些依赖都是 Yeoman 根据初始
的搭建过程中第三个提示的响应所安装的。本节稍后将使用 AngularStrap 公开的 $model 服务，这是一个为 Bootstrap 框架所提供的各种组件提供原生
AngularJS 绑定的第三方模块。通过访问 AngularStrap 的文档 (http://mgcrea.github.io/angular-strap/)，
可以了解更多关于 AngularStrap 的相关知识。
因为由 Yeoman 创建的工作流将使用 Bower 管理前端脚本，所以安装 AngularStrap 就是从命令行中执行下面的命令这样简单：

    bower install angular-strap#v2.1.0 -save

这将下载 AngularStrap 库，并将它保存为 bower.json 文件中的一个依赖。如果保持之前使用 grunt serve 启动的应用服务器一直运行，那么 Grunt 已经
看到了 bower.json 的改动并将自动更新 index.html 文件，用于引用 AngularStrap 提供的 CSS 和 JavaScript 文件。对于简单的单行命令来说
这还不错！现在所有剩下的工作就是将 AngularStrap 模块 (被命名为 mgcrea.ngStrap) 注册为 stockDogApp 模块的依赖：将它添加到依赖数组中，
如下面代码所示。

    angular
        .module('stockDogApp', [
            'ngAnimate',
            'ngCookies',
            'ngResource',
            'ngRoute',
            'ngSanitize',
            'ngTouch',
            'mgcrea.ngStrap'
        ]);

注意：另一个常用的 AngularJS 库是 UI Bootstrap ，它将为各种 Bootstrap 组件公开指令，该项目是由 AngularUI 组织维护的。为学习更多
UI Bootstrap 的相关知识，请访问文档网站 http://angular-ui.github.io/bootstrap/ 。

#### 2.启动应用

现在你已经看到了如何定义应用模块和注册依赖项，启动 StockDog 的下一步就是在 HTML 中引用 stockDogApp 模块。非常方便的是，Yeoman 可自动完成
该任务。请看 app/index.html 文件的内容： 在第 19 行你应该看到下面的代码：

    <body ng-app="stockDogApp">

特性 ng-app 已经被附加到了页面的 <body> 标记中，它是一个 AngularJS 指令，<red>用于将 HTML 元素标志为应用的根</red>。稍后将定义指令，
但是现在为了启动 AngularJS 应用模块，就必须在应用的 HTML 中添加 ng-app 特性。另外值得一提的是，因为 ng-app 是一个元素特性，所以可以自由地移动它，
并决定<red>使用整个 HTML 页面还是一部分作为 Angular 应用</red>。使用 stockDogApp 模块的方式启动应用，现在将公开给 AngularJS 服务，这是 AngularJS
框架的另一个关键组件。

### 1.4.2 Watchlist 服务

如 AngularJS 文档所定义的，服务是使用依赖注入连接在一起的可替换对象。